<!DOCTYPE html>
<html lang="en">

<head>
  <title>Login</title>

  <meta charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <meta name="viewport" content="width=device-width, initial-scale=1.0" >

  <!-- CSS -->
  <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" />
  <link rel="stylesheet" href="/vendor/border-box.css" />
  <link rel="stylesheet" href="/styles/main.css" />
  <link rel="stylesheet" href="/styles/layout.css" />

  <!-- Javascript -->
  <script src="/vendor/jquery-3.0.0.js"></script>
  <script defer src="/scripts/app.js"></script>
  <script defer src="/scripts/index.js"></script>
  <script defer src="/scripts/maps.js"></script>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

  <!-- External Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300;600&family=Pacifico&display=swap" rel="stylesheet">

  <!-- External Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Leaflet's CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
   integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ=="
   crossorigin=""/>

  <!-- Make sure you put this AFTER Leaflet's CSS -->
  <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"
  integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ=="
  crossorigin=""></script>

</head>

<body>
  <%- include('partials/_nav') %>
  <main>
    <div class="bg-white shadow rounded overflow-hidden">
      <div class="px-4 pt-0 pb-4 bg-dark">
          <div class="media align-items-end profile-header">
              <div class="profile mr-3"><img src="/images/profile_photo.png" width="130" class="rounded mb-2 img-thumbnail"></div>
              <div class="media-body mb-5 text-white">
                  <h4 class="mt-0 mb-0">Alice</h4>
                  <p class="small mb-4"> <i class="fa fa-map-marker mr-2"></i>Toronto</p>
              </div>
          </div>
      </div>

      <div class="bg-light p-4 d-flex justify-content-end text-center">
          <ul class="list-inline mb-0">
              <li class="list-inline-item">
                  <h5 class="font-weight-bold mb-0 d-block">3</h5><small class="text-muted"> <i class="fa fa-picture-o mr-1"></i>Favorites</small>
              </li>
              <li class="list-inline-item">
                  <h5 class="font-weight-bold mb-0 d-block">4</h5><small class="text-muted"> <i class="fa fa-user-circle-o mr-1"></i>Contributions</small>
              </li>
          </ul>
      </div>
  </main>

  <!-- Maps Container -->
  <div class="maps">

    <div class="row">
      <!-- Favorites -->
      <div class="col-md-4">
        <p id="maps-title">Favorites <i class="fa-solid fa-sort-down"></i></p>
        <div class="card mb-4 shadow-sm">
          <% for (let userFave of userFavs) { %>
          <div id= "mapid" style="height: 200px"></div>
          <div class="card-body">
            <p class="card-text"><b>Map:</b> <%= userFave.title %><br><b>City:</b> <%= userFave.city %><br><b>Created By:</b> <%= userFave.username %></p>
          <div class="button-box">
            <form method="GET" action="/maps">
              <button type="button" class="btn btn-sm btn-outline-secondary">View <i class="fa-solid fa-magnifying-glass"></i></button>
            </form>
            <form method="GET" action="/maps">
              <button type="button" class="btn btn-sm btn-outline-secondary">Edit <i class="fa-solid fa-pen-to-square"></i></button>
            </form>
            <form method="POST" action="/maps">
              <button type="button" class="btn btn-sm btn-outline-secondary">Delete <i class="fa-solid fa-trash-can"></i></button>
            </form>
          </div>
          </div>
          <% } %>
        </div>
      </div>

      <!-- Contributions -->

      <div class="col-md-4">

        <p id="maps-title">Contributions <i class="fa-solid fa-sort-down"></i></p>
        <div class="card mb-4 shadow-sm">
          <% for (let userMap of userMaps) { %>
          <div id="mapid" style="height: 200px"></div>
          <div class="card-body">
            <p class="card-text"><b>Map:</b> <%= userMap.title %><br><b>City:</b> <%= userMap.city %><br><b>Created By:</b> <%= userMap.username %></p>
            <form method="GET" action="/maps/">
              <button type="button" class="btn btn-sm btn-outline-secondary">View <i class="fa-solid fa-magnifying-glass"></i></button>
            </form>
            <form method="GET" action="/maps/">
              <button type="button" class="btn btn-sm btn-outline-secondary">Edit <i class="fa-solid fa-pen-to-square"></i></button>
            </form>
            <form method="POST" action="/maps">
              <button type="button" class="btn btn-sm btn-outline-secondary">Delete <i class="fa-solid fa-trash-can"></i></button>
            </form>
          </div>
          <% } %>
        </div>
      </div>
    </div>


  <div class="container">
    <h2>Create new Map</h2><hr>
    <form class="form" method="POST" action="/profile">
      <div class="form-group mb-2">
        <label for="title">Title:</label>
        <input class="form-control" type="text" name="title" placeholder="Enter map title...">
      </div>

      <div class="form-group mb-2">
        <label for="province">Province:</label>
        <input class="form-control" type="text" name="province" placeholder="Enter province...">
      </div>
      <div class="form-group mb-2">
        <label for="city">City:</label>
        <input class="form-control" type="text" name="city" placeholder="Enter city...">
      </div>

      <button type="submit" class="btn btn-primary">Create Map</button>
    </form>

  </div>


</body>

</html>
